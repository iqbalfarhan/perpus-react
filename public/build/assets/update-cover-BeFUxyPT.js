import{r as n,j as e,Y as u,m as h}from"./app-U1esR2_f.js";import{F as x}from"./form-control-cxFRD8XI.js";import{A as j,b as g}from"./avatar-Dbob81iM.js";import{B as t}from"./button-p5LaSusP.js";import{C as f,a as v,b as C,c as b,d as D,e as y}from"./card-D9mfmGyp.js";import{D as N,a as U,b as w,c as S,d as F,e as I,f as R,g as T}from"./dialog-BPLD8lqY.js";import{I as k}from"./input-DJmIaid5.js";import{t as o}from"./index-Cha1HoGk.js";import{c as A}from"./createLucideIcon-DZi8R-Gi.js";import{X as B}from"./x-Ui334l1w.js";/* empty css            */import"./utils-BldNzIHX.js";import"./label-CBVR8LL-.js";import"./index-lvPJKeON.js";import"./index-HHF6f8a_.js";import"./index-BP9IHZqR.js";import"./index-D5DMQNhS.js";import"./index-CFjP5EH2.js";import"./index-B2L6SKwX.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],H=A("Upload",E),re=({buku:s})=>{const[d,i]=n.useState(!1),[r,l]=n.useState(null),m=a=>{a.preventDefault(),h.post(route("buku.update",s.id),{_method:"PUT",cover:r},{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{o.success("Cover berhasil diupdate"),l(null),i(!1)},onError:()=>{o.error("Cover gagal diupdate")}})};return e.jsxs(f,{children:[e.jsxs(v,{children:[e.jsx(C,{children:"Update cover"}),e.jsx(b,{children:"Update cover buku"})]}),e.jsx(D,{className:"space-y-6",children:e.jsxs(N,{open:d,onOpenChange:i,children:[e.jsx(U,{className:"aspect-square w-full rounded-md",children:s.thumbnail?e.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full rounded-md"}):e.jsx("div",{className:"bg-muted-foreground flex aspect-square w-full items-center justify-center rounded-md"})}),e.jsxs(w,{children:[e.jsxs(S,{children:[e.jsx(F,{children:"Pilih file gambar cover"}),e.jsx(I,{children:"File yang dipilih harus berupa gambar dan maksimal 2 Mb"})]}),e.jsxs("form",{onSubmit:m,className:"mt-4 space-y-6",children:[e.jsx(x,{children:e.jsx(k,{type:"file",accept:"image/*",className:"w-full",onChange:a=>{var c;const p=((c=a.target.files)==null?void 0:c[0])||null;l(p)}})}),r&&e.jsx(j,{className:"size-24 rounded",children:e.jsx(g,{src:URL.createObjectURL(r)})}),e.jsxs(R,{children:[e.jsx(T,{asChild:!0,children:e.jsx(t,{variant:"ghost",children:"Batal"})}),e.jsxs(t,{children:[e.jsx(H,{}),"Upload"]})]})]})]})]})}),e.jsx(y,{children:e.jsx(t,{variant:"ghost",size:"sm",className:"ghost",asChild:!0,children:e.jsxs(u,{href:route("buku.remove-cover",s.id),method:"put",data:{cover:null},preserveScroll:!0,onSuccess:()=>o.success("Cover berhasil direset"),children:[e.jsx(B,{}),"Reset cover"]})})})]})};export{re as default};
