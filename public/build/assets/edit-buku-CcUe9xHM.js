import{r as D,v as F,j as e}from"./app-U1esR2_f.js";import{F as i}from"./form-control-cxFRD8XI.js";import{B as V}from"./button-p5LaSusP.js";import{I as r}from"./input-DJmIaid5.js";import{S as J}from"./scroll-area-DzOBIJ6B.js";import{S as o,a as n,b as d,c,d as h}from"./select-Dk3FCkjm.js";import{S as R,a as O,b as A,c as H,d as K,e as L,f as U,g as q}from"./sheet-CMYlCEIB.js";import{T as z}from"./textarea-Q_ASPQth.js";import{t as G}from"./index-Cha1HoGk.js";/* empty css            */import"./utils-BldNzIHX.js";import"./label-CBVR8LL-.js";import"./index-lvPJKeON.js";import"./index-HHF6f8a_.js";import"./index-CFjP5EH2.js";import"./index-BP9IHZqR.js";import"./index-D5DMQNhS.js";import"./index--RMvD45j.js";import"./index-BdQq_4o_.js";import"./index-BCICVw8F.js";import"./index-B2L6SKwX.js";import"./index-h7oBu2XD.js";import"./index-DYp3lgDe.js";import"./index-DR9KkWcC.js";import"./createLucideIcon-DZi8R-Gi.js";import"./check-BxoGQyzr.js";import"./x-Ui334l1w.js";const ve=({children:w,buku:l,kategoris:_,raks:y,bahasas:B,penerbits:P})=>{var p,m,x,g,j,f,S,v,b,N,C,k;const[I,u]=D.useState(!1),{data:s,setData:t,put:T}=F({title:l.title,synopsis:l.synopsis,author:l.author,isbn:l.isbn,page:l.page,stock:l.stock,kategori_id:(p=l.kategori)==null?void 0:p.id,rak_id:(m=l.rak)==null?void 0:m.id,bahasa_id:(x=l.bahasa)==null?void 0:x.id,penerbit_id:(g=l.penerbit)==null?void 0:g.id}),E=a=>{a.preventDefault(),T(route("buku.update",l.id),{preserveScroll:!0,onSuccess:()=>{G.success("Buku berhasil diubah"),u(!1)}})};return e.jsxs(R,{open:I,onOpenChange:u,children:[e.jsx(O,{asChild:!0,children:w}),e.jsxs(A,{className:"flex flex-col",children:[e.jsxs(H,{children:[e.jsx(K,{children:"Edit buku"}),e.jsx(L,{children:l.title})]}),e.jsx(J,{className:"flex-1 overflow-auto",children:e.jsxs("div",{className:"space-y-4 px-5",children:[e.jsx(i,{label:"Judul buku",children:e.jsx(r,{placeholder:"Name",className:"w-full",defaultValue:l.title,value:s.title,onChange:a=>t("title",a.target.value)})}),e.jsx(i,{label:"Ringkasan buku",children:e.jsx(z,{placeholder:"Ringkasan buku",className:"w-full",defaultValue:l.synopsis,value:s.synopsis,onChange:a=>t("synopsis",a.target.value)})}),e.jsx(i,{label:"Pengarang",children:e.jsx(r,{placeholder:"Pengarang",className:"w-full",defaultValue:l.author,value:s.author,onChange:a=>t("author",a.target.value)})}),e.jsx(i,{label:"Nomor ISBN",children:e.jsx(r,{placeholder:"Nomor ISBN",className:"w-full",defaultValue:l.isbn,value:s.isbn,onChange:a=>t("isbn",a.target.value)})}),e.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[e.jsx(i,{label:"Jumlah halaman",children:e.jsx(r,{placeholder:"Jumlah halaman",className:"w-full",defaultValue:l.page,value:s.page,onChange:a=>t("page",a.target.value)})}),e.jsx(i,{label:"Stok buku",children:e.jsx(r,{placeholder:"Stok buku diperpustakaan",className:"w-full",defaultValue:l.stock,value:s.stock,onChange:a=>t("stock",a.target.value)})})]}),e.jsx(i,{label:"Kategori buku",children:e.jsxs(o,{defaultValue:(j=l.kategori)==null?void 0:j.id.toString(),value:(f=s.kategori_id)==null?void 0:f.toString(),onValueChange:a=>t("kategori_id",a),children:[e.jsx(n,{className:"w-full",children:e.jsx(d,{placeholder:"Pilih kategori buku"})}),e.jsx(c,{children:_.map(a=>e.jsx(h,{value:a.id.toString(),children:a.name},a.id))})]})}),e.jsx(i,{label:"Lokasi buku",children:e.jsxs(o,{defaultValue:(S=l.rak)==null?void 0:S.id.toString(),value:(v=s.rak_id)==null?void 0:v.toString(),onValueChange:a=>t("rak_id",a),children:[e.jsx(n,{className:"w-full",children:e.jsx(d,{placeholder:"Pilih rak buku"})}),e.jsx(c,{children:y.map(a=>e.jsx(h,{value:a.id.toString(),children:a.name},a.id))})]})}),e.jsx(i,{label:"Bahasa buku",children:e.jsxs(o,{defaultValue:(b=l.bahasa)==null?void 0:b.id.toString(),value:(N=s.bahasa_id)==null?void 0:N.toString(),onValueChange:a=>t("bahasa_id",a),children:[e.jsx(n,{className:"w-full",children:e.jsx(d,{placeholder:"Pilih bahasa buku"})}),e.jsx(c,{children:B.map(a=>e.jsxs(h,{value:a.id.toString(),children:[a.flag," ",a.name]},a.id))})]})}),e.jsx(i,{label:"Penerbit buku",children:e.jsxs(o,{defaultValue:(C=l.penerbit)==null?void 0:C.id.toString(),value:(k=s.penerbit_id)==null?void 0:k.toString(),onValueChange:a=>t("penerbit_id",a),children:[e.jsx(n,{className:"w-full",children:e.jsx(d,{placeholder:"Pilih penerbit buku"})}),e.jsx(c,{children:P.map(a=>e.jsx(h,{value:a.id.toString(),children:a.name},a.id))})]})})]})}),e.jsxs(U,{className:"flex flex-row justify-between",children:[e.jsx(q,{asChild:!0,children:e.jsx(V,{type:"submit",variant:"ghost",children:"Batal"})}),e.jsx("form",{onSubmit:E,children:e.jsx(V,{type:"submit",children:"Simpan"})})]})]})]})};export{ve as default};
